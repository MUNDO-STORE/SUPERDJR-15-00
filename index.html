<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <title>SUPER RETRO ARENA</title>
    <link href="https://fonts.googleapis.com/css2?family=Press+Start+2P&display=swap" rel="stylesheet">
    <style>
        body { background: #000; color: #0f0; font-family: 'Press Start 2P', cursive; text-align: center; }
        #arena { display: flex; justify-content: center; gap: 20px; padding: 20px; flex-wrap: wrap; }
        
        /* Moldura estilo Arcade */
        .visor {
            width: 640px; height: 480px;
            border: 10px solid #333;
            background: #111;
            box-shadow: 0 0 15px #0f0;
            position: relative;
        }

        .chat-box {
            width: 300px; height: 480px;
            border: 4px solid #f0f;
            background: #050505;
            display: flex; flex-direction: column;
        }

        #messages { flex-grow: 1; overflow-y: auto; font-size: 10px; padding: 10px; text-align: left; }
        input { background: #000; color: #0f0; border: 1px solid #f0f; padding: 10px; font-family: 'Press Start 2P'; font-size: 9px; }
        
        .btn-play {
            background: #f0f; color: #fff; padding: 20px;
            font-family: 'Press Start 2P'; cursor: pointer; margin-top: 20px;
        }
    </style>
</head>
<body>

    <h1>SUPER RETRO</h1>
    <p style="color: #f0f;">STATUS: AGUARDANDO JOGADOR 2</p>

    <div id="arena">
        <div class="visor" id="game-container">
            <div style="margin-top: 200px;">
                <button class="btn-play" onclick="startEmulator()">INICIAR EMULADOR (NETPLAY)</button>
            </div>
        </div>

        <div class="chat-box">
            <div id="messages"></div>
            <button onclick="startVoice()" id="vBtn" style="font-size: 8px; background: #222; color: #0ff; padding: 5px;">ATIVAR VOZ</button>
            <input type="text" id="chatInput" placeholder="MENSAGEM...">
        </div>
    </div>

    <script src="https://raw.githack.com/EmulatorJS/EmulatorJS/main/data/loader.js"></script>
    <script>
        function startEmulator() {
            window.EJS_player = '#game-container';
            window.EJS_core = 'snes'; // Usa o nÃºcleo SNES via WebAssembly
            window.EJS_gameUrl = 'LINK_DA_SUA_ROM.sfc'; // VocÃª PRECISA subir uma ROM (.sfc ou .smc)
            window.EJS_pathtodata = 'https://raw.githack.com/EmulatorJS/EmulatorJS/main/data/';
            
            // Ativa o Netplay para evitar o erro de rede
            window.EJS_netplayServer = "wss://netplay.emulatorjs.org"; 

            document.querySelector('.btn-play').style.display = 'none';
        }

        async function startVoice() {
            try {
                const stream = await navigator.mediaDevices.getUserMedia({ audio: true });
                document.getElementById('vBtn').innerText = "ðŸŽ¤ VOZ ON";
                document.getElementById('vBtn').style.color = "lime";
                // Aqui o Ã¡udio seria enviado via WebRTC
            } catch (err) {
                alert("ERRO: O microfone precisa de HTTPS para funcionar!");
            }
        }
    </script>
</body>
</html>
